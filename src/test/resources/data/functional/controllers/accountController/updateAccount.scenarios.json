[
  {
    "description": "Should successfully update the account", 
    "input": {
      "body": {
        "Name": "Test Data",
        "Website": "abc",
        "Status__c": "Ready To Inspect",
        "Establishment_Year__c": "2023"
      },
      "accountId": "0011e00000bWSxdAAG"
    },
    "mocks": {
      "makeCompositeRequest": {
        "compositeResponse": [
          {
            "body": {
              "id": "00T1e000007mDA7EAM",
              "success": true,
              "errors": []
            },
            "httpHeaders": {
              "Location": "/services/data/v58.0/sobjects/Account/00T1e000007mDA7EAM"
            },
            "httpStatusCode": 201,
            "referenceId": "CreateAccount"
          }
        ]
      },
      "describeAccountFormatterDto": {
        "fields": {
          "Website": {
            "label": "Website",
            "name": "Website",
            "length": 255,
            "type": "url",
            "defaultValue": null,
            "precision": 0,
            "scale": 0,
            "picklistValues": []
          },
          "Establishment_Year__c": {
            "label": "Establishment Year",
            "name": "Establishment_Year__c",
            "length": 255,
            "type": "picklist",
            "defaultValue": null,
            "precision": 0,
            "scale": 0,
            "picklistValues": [
              {
                "label": "2023",
                "value": "2023",
                "active": true
              },
              {
                "label": "2022",
                "value": "2022",
                "active": true
              },
              {
                "label": "2021",
                "value": "2021",
                "active": true
              },
              {
                "label": "2020",
                "value": "2020",
                "active": true
              },
              {
                "label": "Before 2020",
                "value": "Before 2020",
                "active": true
              }
            ]
          },
          "Status__c": {
            "label": "Status",
            "name": "Status__c",
            "length": 255,
            "type": "picklist",
            "defaultValue": "Ready To Inspect",
            "precision": 0,
            "scale": 0,
            "picklistValues": [
              {
                "label": "Ready To Inspect",
                "value": "Ready To Inspect",
                "active": true
              },
              {
                "label": "Ready For Outreach",
                "value": "Ready For Outreach",
                "active": true
              },
              {
                "label": "First Outreach Done",
                "value": "First Outreach Done",
                "active": true
              },
              {
                "label": "Second Outreach Done",
                "value": "Second Outreach Done",
                "active": true
              },
              {
                "label": "Third Outreach Done",
                "value": "Third Outreach Done",
                "active": true
              },
              {
                "label": "Connected",
                "value": "Connected",
                "active": true
              },
              {
                "label": "Call Scheduled",
                "value": "Call Scheduled",
                "active": true
              },
              {
                "label": "Rejected",
                "value": "Rejected",
                "active": true
              },
              {
                "label": "Unsubscribed",
                "value": "Unsubscribed",
                "active": true
              }
            ]
          },
          "Name": {
            "label": "Account Name",
            "name": "Name",
            "length": 255,
            "type": "string",
            "defaultValue": null,
            "precision": 0,
            "scale": 0,
            "picklistValues": []
          }
        }
      }
    },
    "output": {}
  },
  {
    "description": "Should fail when the request object key is incorrect", 
    "input": {
      "body": {
        "Name": "Test Data",
        "Website": "abc",
        "Status": "Ready To Inspect",
        "Establishment_Year__c": "2023"
      }
    },
    "mocks": {
      "makeCompositeRequest": {
        "compositeResponse": [
          {
            "body": [
              {
                "message": "No such column 'Status' on sobject of type Account",
                "errorCode": "INVALID_FIELD"
              }
            ],
            "httpHeaders": {},
            "httpStatusCode": 400,
            "referenceId": "CreateAccount"
          }
        ]
      },
      "describeAccountFormatterDto": {
        "fields": {
          "Website": {
            "label": "Website",
            "name": "Website",
            "length": 255,
            "type": "url",
            "defaultValue": null,
            "precision": 0,
            "scale": 0,
            "picklistValues": []
          },
          "Establishment_Year__c": {
            "label": "Establishment Year",
            "name": "Establishment_Year__c",
            "length": 255,
            "type": "picklist",
            "defaultValue": null,
            "precision": 0,
            "scale": 0,
            "picklistValues": [
              {
                "label": "2023",
                "value": "2023",
                "active": true
              },
              {
                "label": "2022",
                "value": "2022",
                "active": true
              },
              {
                "label": "2021",
                "value": "2021",
                "active": true
              },
              {
                "label": "2020",
                "value": "2020",
                "active": true
              },
              {
                "label": "Before 2020",
                "value": "Before 2020",
                "active": true
              }
            ]
          },
          "Status__c": {
            "label": "Status",
            "name": "Status__c",
            "length": 255,
            "type": "picklist",
            "defaultValue": "Ready To Inspect",
            "precision": 0,
            "scale": 0,
            "picklistValues": [
              {
                "label": "Ready To Inspect",
                "value": "Ready To Inspect",
                "active": true
              },
              {
                "label": "Ready For Outreach",
                "value": "Ready For Outreach",
                "active": true
              },
              {
                "label": "First Outreach Done",
                "value": "First Outreach Done",
                "active": true
              },
              {
                "label": "Second Outreach Done",
                "value": "Second Outreach Done",
                "active": true
              },
              {
                "label": "Third Outreach Done",
                "value": "Third Outreach Done",
                "active": true
              },
              {
                "label": "Connected",
                "value": "Connected",
                "active": true
              },
              {
                "label": "Call Scheduled",
                "value": "Call Scheduled",
                "active": true
              },
              {
                "label": "Rejected",
                "value": "Rejected",
                "active": true
              },
              {
                "label": "Unsubscribed",
                "value": "Unsubscribed",
                "active": true
              }
            ]
          },
          "Name": {
            "label": "Account Name",
            "name": "Name",
            "length": 255,
            "type": "string",
            "defaultValue": null,
            "precision": 0,
            "scale": 0,
            "picklistValues": []
          }
        }
      }
    },
    "output": {
      "http_code": 400,
      "message": "At least one parameter is invalid or missing.",
      "code": "INVALID_PARAMS",
      "internal_error_identifier": "l_ca_ca_csa_pr_1",
      "param_errors": [
        "invalid_account_data"
      ]
    }
  }
]